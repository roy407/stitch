# 如何添加新的配置文件

在resource目录下，有很多配置文件，如何加入自己的配置文件呢？现在给大家一个参考样例

1. 创建对应json文件，如下所示。

```bash
resource/
├── xxx.json
├── xxx/
```

只需要按照上面的规范，就可以把自己的相机配置加入其中，如果不清楚json的命名怎么搞，具体可以详见resource目录下的[README.md](../resource/README.md)

2. 我们是根据相机数量来选择对应的配置文件，但是当出现相机数量相同但是配置不同时，会出现冲突，这个之后会进行解决，但是现在，按照下图加入对应命令即可。

```bash
# 根据数量选择配置文件
case "$NUM_CAM" in
    5)
        CONFIG_FILE="resource/hk5"
        ;;
    x)
        CONFIG_FILE="resource/xxx"
        ;;
    10)
        CONFIG_FILE="resource/cam10"
        ;;
    *)
        echo "错误: 不支持的相机数量: $NUM_CAM"
        echo "仅支持 5, 10"
        exit 1
        ;;
esac
```

3. 在main文件中，选择相应的窗口来显示，如果你不需要窗口，只是通过log打印的话，这一步也可以省略，但是注意，因为窗口代码都是根据各配置定制的，如果你使用其他配置的窗口代码，可能会出现问题，但是也不一定，这个取决于代码的实现。

```cpp
// 如果不修改这一步，那么就默认运行launch_with_no_window()
int main(int argc, char *argv[]) {
    std::string config_name = "";
    if (argc > 1) {
        config_name = argv[1];
    }
    config::SetConfigFileName(config_name);
    if(config_name == "resource/cam10") {
        return launch_with_mainwindow(argc, argv);
    } else if(config_name == "resource/hk5") {
        // return launch_with_widget(argc, argv);
    } else {
        launch_with_no_window();
    }
}
```